/* Tailwind layers */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* =========================
   Global polish / tokens
   ========================= */

/* Typography smoothing + scroll behavior */
html {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  -webkit-text-size-adjust: 100%;
  scroll-behavior: smooth;
}

:root {
  --bg: #FFFFFF;
  --ink: #171717;
  --muted: #6B6B6B;
  --brown: #B99164;
  --brown-2: #8A6C47;
  --sand: #F7F2EA;
  --border: #EAE6DE;
  --panel: #F7F2EA;
}

html,
body {
  background: var(--bg);
  color: var(--ink);
  font-family: "Manrope", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  text-rendering: optimizeLegibility;
}

/* Respect user's motion preference */
@media (prefers-reduced-motion: reduce) {
  html:focus-within {
    scroll-behavior: auto;
  }
  *,
  *::before,
  *::after {
    animation-duration: 0.001ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.001ms !important;
    scroll-behavior: auto !important;
  }
}

/* Selection color */
::selection {
  background: rgba(23, 23, 23, 0.12);
  color: inherit;
}

/* Better default focus rings (complements Tailwind focus classes) */
:focus-visible {
  outline: none;
  box-shadow:
    0 0 0 2px rgba(23, 23, 23, 0.85),
    0 0 0 4px rgba(185, 145, 100, 0.45);
}

/* Smooth image rendering + sane defaults */
img, picture, video, canvas, svg {
  display: block;
  max-width: 100%;
}
img { image-rendering: auto; -ms-interpolation-mode: bicubic; } /* legacy */

/* Form controls inherit fonts */
input, button, textarea, select { font: inherit; }

/* Pointer cursor for clickable things without Tailwind classes */
:where(a, button, [role="button"]) { cursor: pointer; }

/* =========================
   Tailwind layer: components
   ========================= */
@layer components {
  /* App container helper (optional) */
  .hugolab-container {
    @apply mx-auto w-full max-w-7xl px-4 sm:px-6 lg:px-8;
  }

  /* Primary button */
  .btn-primary {
    @apply inline-flex items-center justify-center rounded-2xl px-5 py-3 text-sm font-medium text-white
           shadow-sm transition active:scale-[0.99]
           bg-[var(--brown)] hover:bg-[var(--brown-2)]
           focus:outline-none focus:ring-2 focus:ring-[var(--brown)] focus:ring-opacity-30 focus:ring-offset-2 focus:ring-offset-[var(--bg)];
  }

  /* Ghost / outline button */
  .btn-ghost {
    @apply inline-flex items-center justify-center rounded-2xl px-5 py-3 text-sm font-medium
           border border-[rgba(23,23,23,0.18)] text-[var(--ink)]
           transition hover:border-[var(--brown)] hover:text-[var(--brown)]
           focus:outline-none focus:ring-2 focus:ring-[var(--brown)] focus:ring-opacity-30 focus:ring-offset-2 focus:ring-offset-[var(--bg)];
  }

  /* Rounded pill (used across site) */
  .pill {
    @apply inline-flex items-center gap-2 rounded-full border border-[var(--border)]
           bg-white px-3 py-1.5 text-xs font-medium uppercase tracking-[0.06em] text-[var(--muted)];
  }
}

/* =========================
   Tailwind layer: utilities
   ========================= */
@layer utilities {
  /* Subtle hover lift */
  .hover-lift {
    @apply transition-transform duration-300 ease-out hover:-translate-y-1 hover:shadow-md;
  }

  /* Subtle gradient text (light & dark) */
  .text-gradient{
    background: linear-gradient(90deg, #111111 0%, #4b5563 100%);
    -webkit-background-clip: text; /* Safari/Chrome */
    background-clip: text;         /* Firefox */
    -webkit-text-fill-color: transparent;
    color: transparent;
    display: inline;               /* avoid block background area */
  }
  .dark .text-gradient{
    background: linear-gradient(90deg, #ffffff 0%, #e5e7eb 100%);
  }

  /* Clamp helper for multi-line text (fallback if plugin not used) */
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Simple fade-in utility */
  .fade-in { animation: fade-in 0.6s ease both; }

  .torn-top {
    -webkit-mask-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1440 150' preserveAspectRatio='none'><path d='M0,110 C120,140 220,90 360,120 C480,148 620,92 760,118 C900,142 1020,88 1160,116 C1260,138 1340,108 1440,126 L1440,0 L0,0 Z' fill='black'/></svg>");
    mask-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1440 150' preserveAspectRatio='none'><path d='M0,110 C120,140 220,90 360,120 C480,148 620,92 760,118 C900,142 1020,88 1160,116 C1260,138 1340,108 1440,126 L1440,0 L0,0 Z' fill='black'/></svg>");
    -webkit-mask-repeat: no-repeat;
    mask-repeat: no-repeat;
    -webkit-mask-size: 100% 150px;
    mask-size: 100% 150px;
    -webkit-mask-position: top center;
    mask-position: top center;
  }

  .torn-bottom {
    -webkit-mask-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1440 150' preserveAspectRatio='none'><path d='M0,40 C120,12 260,64 400,38 C520,12 660,70 780,42 C920,10 1060,62 1180,34 C1300,6 1360,32 1440,14 L1440,150 L0,150 Z' fill='black'/></svg>");
    mask-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1440 150' preserveAspectRatio='none'><path d='M0,40 C120,12 260,64 400,38 C520,12 660,70 780,42 C920,10 1060,62 1180,34 C1300,6 1360,32 1440,14 L1440,150 L0,150 Z' fill='black'/></svg>");
    -webkit-mask-repeat: no-repeat;
    mask-repeat: no-repeat;
    -webkit-mask-size: 100% 150px;
    mask-size: 100% 150px;
    -webkit-mask-position: bottom center;
    mask-position: bottom center;
  }
}

/* =========================
   Keyframes
   ========================= */
@keyframes fade-in {
  from { opacity: 0; transform: translateY(6px); }
  to   { opacity: 1; transform: translateY(0);  }
}
